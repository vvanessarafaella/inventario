<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Controle de Invent√°rio</title>
    <link rel="stylesheet" href="style.css">
    <script defer src="script.js"></script>
</head>
<body>

<!-- Tela de Introdu√ß√£o com V√≠deo -->
<div id="intro-screen">
    <video id="intro-video" autoplay muted>
        <source src="intro.mp4" type="video/mp4">
        Seu navegador n√£o suporta v√≠deos.
    </video>
    <button id="skip-intro" onclick="skipIntro()">Pular Introdu√ß√£o</button>
</div>

<!-- Introdu√ß√£o e Guia -->
<div class="container" id="main-content" style="display: none;">
    <h2>Bem-vindo ao Sistema de Invent√°rio</h2>
    <p>Use os bot√µes abaixo para gerenciar seu invent√°rio. Voc√™ pode adicionar categorias, subcategorias, importar arquivos CSV e visualizar o invent√°rio atualizado.</p>

    <h3>üì• Como deve ser o arquivo CSV?</h3>
    <p>O arquivo deve estar no seguinte formato (cada item em uma linha separado por v√≠rgula):</p>
    <pre>
Item,Categoria,Quantidade
4 Copos Transparentes,Cozinha,4
Rel√≥gio de Parede,Decora√ß√£o,1
TV + Controle,Eletrodom√©sticos,1
    </pre>

    <!-- Bot√µes R√°pidos -->
    <div class="quick-actions">
        <button onclick="showInventory()">üì¶ Abrir Invent√°rio</button>
        <button onclick="showCategories()">üìÇ Gerenciar Categorias</button>
        <input type="file" id="csvFileInput" accept=".csv" style="display:none;">
        <button onclick="document.getElementById('csvFileInput').click()">üì• Importar CSV</button>
    </div>

    <!-- Gerenciamento de Categorias -->
    <div id="category-section" style="display: none;">
        <h3>Gerenciamento de Categorias</h3>
        <table id="category-table">
            <thead>
                <tr>
                    <th>Categoria</th>
                    <th>Subcategorias</th>
                    <th>A√ß√µes</th>
                </tr>
            </thead>
            <tbody></tbody>
        </table>
        <button onclick="openCategoryModal()">‚ûï Adicionar Categoria</button>
    </div>

    <!-- Modal de Adi√ß√£o de Categorias e Subcategorias -->
    <div class="modal" id="categoryModal">
        <h3>Editar Categoria</h3>
        <input type="text" id="editCategoryName" placeholder="Nome da Categoria">
        <textarea id="editCategoryItems" placeholder="Itens separados por v√≠rgula"></textarea>
        <input type="text" id="editSubCategory" placeholder="Nova Subcategoria">
        <button onclick="saveCategory()">Salvar</button>
        <button onclick="closeCategoryModal()">Cancelar</button>
    </div>

    <!-- Invent√°rio -->
    <div id="inventory-section" style="display: none;">
        <h3>Invent√°rio</h3>
        <table id="inventory-table">
            <thead>
                <tr>
                    <th>Item</th>
                    <th>Categoria</th>
                    <th>Quantidade</th>
                    <th>A√ß√µes</th>
                </tr>
            </thead>
            <tbody></tbody>
        </table>
    </div>
</div>
<script>
    if ("serviceWorker" in navigator) {
        navigator.serviceWorker.register("service-worker.js")
            .then(() => console.log("Service Worker Registrado!"));
    }
</script>
</body>
</html>